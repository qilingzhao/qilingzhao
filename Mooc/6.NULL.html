<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.NULL:The Missing Semester of Your CS Education | qilingzhao&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just do IT">
    <link rel="preload" href="/assets/css/0.styles.1fbdf1a8.css" as="style"><link rel="preload" href="/assets/js/app.6cd2a5de.js" as="script"><link rel="preload" href="/assets/js/2.dafc154f.js" as="script"><link rel="preload" href="/assets/js/6.6d478153.js" as="script"><link rel="prefetch" href="/assets/js/3.4fe11ca2.js"><link rel="prefetch" href="/assets/js/4.a29127c9.js"><link rel="prefetch" href="/assets/js/5.19fab69e.js"><link rel="prefetch" href="/assets/js/7.87ba46c1.js"><link rel="prefetch" href="/assets/js/8.e268f163.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1fbdf1a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">qilingzhao's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Golang" class="dropdown-title"><span class="title">Golang</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mooc" class="dropdown-title"><span class="title">Mooc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Mooc/" class="nav-link router-link-active">
  Mooc
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Golang" class="dropdown-title"><span class="title">Golang</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mooc" class="dropdown-title"><span class="title">Mooc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Mooc/" class="nav-link router-link-active">
  Mooc
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Mooc</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Mooc/6.NULL.html" aria-current="page" class="active sidebar-link">6.NULL:The Missing Semester of Your CS Education</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Mooc/6.NULL.html#lec1-course-overview-the-shell" class="sidebar-link">Lec1.Course overview + the shell</a></li><li class="sidebar-sub-header"><a href="/Mooc/6.NULL.html#lec2-shell-tools-and-scripting" class="sidebar-link">Lec2.Shell Tools and Scripting</a></li><li class="sidebar-sub-header"><a href="/Mooc/6.NULL.html#lec3-vim" class="sidebar-link">Lec3.Vim</a></li><li class="sidebar-sub-header"><a href="/Mooc/6.NULL.html#lec4-data-wrangling" class="sidebar-link">Lec4.Data Wrangling</a></li><li class="sidebar-sub-header"><a href="/Mooc/6.NULL.html#lec5-command-line-environment" class="sidebar-link">Lec5.Command-line Environment</a></li></ul></li><li><a href="/Mooc/" aria-current="page" class="sidebar-link">/Mooc/</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6-null-the-missing-semester-of-your-cs-education"><a href="#_6-null-the-missing-semester-of-your-cs-education" class="header-anchor">#</a> 6.NULL:The Missing Semester of Your CS Education</h1> <h2 id="lec1-course-overview-the-shell"><a href="#lec1-course-overview-the-shell" class="header-anchor">#</a> Lec1.Course overview + the shell</h2> <h3 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> - <span class="token comment"># will cd to the directory you were perviously in</span>
<span class="token operator">&gt;&gt;</span> <span class="token comment"># redirect STDOUT with append</span>
<span class="token operator">|</span> <span class="token comment"># take output of the program to the left and make input of the program to the right</span>
</code></pre></div><h3 id="permission"><a href="#permission" class="header-anchor">#</a> Permission</h3> <p>First, the d at the beginning of the line tells us that missing is a directory. Then follow three groups of three characters (rwx). These indicate what permissions the owner of the file (missing), the owning group (users), and everyone else respectively have on the relevant item.</p> <h3 id="quote"><a href="#quote" class="header-anchor">#</a> Quote</h3> <p>https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html#Double-Quotes</p> <h2 id="lec2-shell-tools-and-scripting"><a href="#lec2-shell-tools-and-scripting" class="header-anchor">#</a> Lec2.Shell Tools and Scripting</h2> <h3 id="shell-scripting"><a href="#shell-scripting" class="header-anchor">#</a> Shell Scripting</h3> <p>To assign variables in bash, use the syntax <code>foo=bar</code> and access the value of variable  with <code>$foo</code>. (Note that <code>foo = bar</code> will not work, in general, in shell script the space character will perform argument splitting)</p> <p>Strings delimited with <code>'</code>' are literal strings and will not subsitute variable values where as <code>&quot;</code>delimited strings will.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">foo</span><span class="token operator">=</span>bar
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$foo</span>&quot;</span>
<span class="token comment"># bar</span>
<span class="token builtin class-name">echo</span> <span class="token string">'<span class="token variable">$foo</span>'</span>
<span class="token comment"># $foo</span>
</code></pre></div><p>a shell script file(mcd.sh):</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function-name function">mcdfunc</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span>
    <span class="token function">mkdir</span> -p <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>
    <span class="token builtin class-name">cd</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment"># &gt; $ mcdfunc 123                                                                </span>
<span class="token comment"># mcdfunc</span>
<span class="token comment"># zhao70@laptop ~/123  </span>
</code></pre></div><p>source命令也称“点命令”， 是bash的内部命令</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> mcd.sh <span class="token comment"># execute the script in our shell and load it </span>
<span class="token builtin class-name">.</span> mcd.sh
</code></pre></div><p>source filename, sh filename 及 ./filename执行脚本的三者区别？</p> <ol><li>当shell脚本具有可执行权限时，用sh filename与./filename执行脚本是没有区别得。
./filename是因为当前目录没有在PATH中，所有&quot;.&quot;是用来表示当前目录的。</li> <li>sh filename 重新建立一个子shell，在子shell中执行脚本里面的语句，该子shell继承父shell的环境变量，但子shell新建的、改变的变量不会被带回父shell，除非使用export。</li> <li>source filename：这个命令其实只是简单地读取脚本里面的语句依次在当前shell里面执行，没有建立新的子shell。那么脚本里面所有新建、改变变量的语句都会保存在当前shell里面。</li></ol> <ul><li><code>$0</code> - Name of the script</li> <li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li> <li><code>$@</code> - All the arguments</li> <li><code>$#</code> - Number of arguments</li> <li><code>$?</code> - Return code of the previous command</li> <li><code>$$</code> - Process identification number (PID) for the current script</li> <li><code>!!</code> - Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li> <li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code></li></ul> <p><strong>command substitution</strong>:  get the output of a command as a variable.  Whenever you place <code>$( CMD )</code> it will execute <code>CMD</code>, get the output of the command and substitute it in place.
<strong>process substitution</strong>: <code>&lt;( CMD )</code> will execute <code>CMD</code> and place the output in a temporary file and substitute the <code>&lt;()</code> with that file’s name. This is useful when commands expect values to be passed by <em>file</em> instead of by <em>STDIN</em>. <code>diff &lt;(ls foo) &lt;(ls bar)</code></p> <p><strong>shell globbing</strong>: expanding expressions by carrying out filename expansion.</p> <ul><li><p>Wildcards: use <code>?</code> and <code>*</code> to match one or any amount of characters respectively.</p></li> <li><p>Curly braces <code>{}</code>:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">touch</span> <span class="token punctuation">{</span>foo,bar<span class="token punctuation">}</span>/<span class="token punctuation">{</span>a<span class="token punctuation">..</span>c<span class="token punctuation">}</span>
<span class="token function">touch</span> convert image.<span class="token punctuation">{</span>png,jpg<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong>shebang</strong>: at the top of the script. It is a good practice to write shebang lines using the  <a href="https://www.man7.org/linux/man-pages/man1/env.1.html" target="_blank" rel="noopener noreferrer"><code>env</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> command that will resolve to wherever the command lives in the system, increasing the portability of your scripts.</p> <h3 id="shell-tools"><a href="#shell-tools" class="header-anchor">#</a> Shell Tools</h3> <h4 id="查找文件"><a href="#查找文件" class="header-anchor">#</a> 查找文件</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 查找所有名称为src的文件夹</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -name src -type d
<span class="token comment"># 查找所有文件夹路径中包含test的python文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -path <span class="token string">'**/test/**/*.py'</span> -type f
<span class="token comment"># 查找前一天修改的所有文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -mtime -1
<span class="token comment"># 查找所有大小在500k至10M的tar.gz文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -size +500k -size -10M -name <span class="token string">'*.tar.gz'</span>
<span class="token comment"># Delete all files with .tmp extension</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -name <span class="token string">'*.tmp'</span> -exec <span class="token function">rm</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token comment"># Find all PNG files and convert them to JPG</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -name <span class="token string">'*.png'</span> -exec convert <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>.<span class="token punctuation">}</span>.jpg <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre></div><p>如果您希望模式匹配时是不区分大小写，可以使用<code>-iname</code>选项</p> <h4 id="查找shell命令"><a href="#查找shell命令" class="header-anchor">#</a> 查找shell命令</h4> <p>对于大多数的shell来说，您可以使用 <code>Ctrl+R</code> 对命令历史记录进行回溯搜索。敲 <code>Ctrl+R</code> 后您可以输入子串来进行匹配，查找历史命令行。</p> <p>输入命令时，如果您在命令的开头加上一个空格，它就不会被加进shell记录中。当你输入包含密码或是其他敏感信息的命令时会用到这一特性。</p> <h2 id="lec3-vim"><a href="#lec3-vim" class="header-anchor">#</a> Lec3.Vim</h2> <h3 id="model-editing"><a href="#model-editing" class="header-anchor">#</a> Model editing</h3> <p>Vim has multiple operating modes.</p> <ul><li><strong>Normal</strong>: for moving around a file and making edits</li> <li><strong>Insert</strong>: for inserting text(press <code>i</code>)</li> <li><strong>Replace</strong>: for replacing text(press <code>R</code>)</li> <li><strong>Visual</strong> (plain<code>v</code>, line<code>V</code>, or block<code>&lt;C-v&gt;</code>): for selecting blocks of text</li> <li><strong>Command-line</strong>: for running a command(press<code>:</code>)</li></ul> <h3 id="basics"><a href="#basics" class="header-anchor">#</a> Basics</h3> <h4 id="buffers-tabs-and-windows"><a href="#buffers-tabs-and-windows" class="header-anchor">#</a> Buffers, tabs, and windows</h4> <p>Vim maintains a set of open files, called “buffers”.  A Vim session has a number of tabs, each of which has a number of windows (split panes). A given buffer may be open in <em>multiple</em> windows, even within the same tab.</p> <h4 id="command-line"><a href="#command-line" class="header-anchor">#</a> Command-line</h4> <ul><li><code>:e {name of file}</code> open file for editing</li> <li><code>:ls</code> show open buffers</li> <li><code>:b {num}</code> 可切换buffer (num为buffer list中的编号)</li> <li><code>:bn</code> -- buffer列表中下一个 buffer</li> <li><code>:bp</code> -- buffer列表中前一个 buffer</li> <li><code>:b#</code> -- 你之前所在的前一个 buffer</li> <li><code>:help {topic}</code> open help</li></ul> <h3 id="vim-s-interface-is-a-programming-language"><a href="#vim-s-interface-is-a-programming-language" class="header-anchor">#</a> Vim’s interface is a programming language</h3> <h4 id="movement"><a href="#movement" class="header-anchor">#</a> Movement</h4> <ul><li>Words: <code>w</code> (next word), <code>b</code> (beginning of word), <code>e</code> (end of word)
w - 从当前光标当前位置直到下一个单词起始处，不包括它的第一个字符。
e - 从当前光标当前位置直到单词末尾，包括最后一个字符。
$ - 从当前光标当前位置直到当前行末。</li> <li>Lines: <code>0</code> (beginning of line), <code>^</code> (first non-blank character), <code>$</code> (end of line)</li> <li>Screen: <code>H</code> (top of screen), <code>M</code> (middle of screen), <code>L</code> (bottom of screen)</li> <li>Scroll: <code>Ctrl-u</code> (up), <code>Ctrl-d</code> (down)</li> <li>File: <code>gg</code> (beginning of file), <code>G</code> (end of file)</li> <li>Line numbers: <code>:{number}&lt;CR&gt;</code> or <code>{number}G</code> (line {number}) //<code>&lt;CR&gt;</code>就是回车</li> <li>Misc: <code>%</code> (corresponding item)</li> <li>Find: <code>f{character}</code>, <code>t{character}</code>, <code>F{character}</code>, <code>T{character}</code> <ul><li>find/to(f为光标在匹配字母上， t为光标在匹配字母前，大写为反向查找) forward/backward {character} on the <strong>current line</strong></li> <li><code>,</code>(the previous)/ <code>;</code>(the next) for navigating matches</li></ul></li></ul> <h4 id="edits"><a href="#edits" class="header-anchor">#</a> Edits</h4> <p><code>d{motion}</code> delete {motion}</p> <ul><li>e.g. <code>dw</code> is delete word, <code>d$</code> is delete to end of line, <code>d0</code> is delete to beginning of line</li> <li><code>c{motion}</code> change {motion}
<ul><li>e.g. <code>cw</code> is change word</li> <li>like <code>d{motion}</code> followed by <code>i</code></li></ul></li> <li><code>x</code> delete character (equal do <code>dl</code>)</li> <li><code>s</code> substitute character (equal to <code>xi</code>)</li> <li><code>r{character}</code>replace character</li> <li>Visual mod要向相反方向查找同上一次的字
符串e + manipulation
<ul><li>select text, <code>d</code> to delete it or <code>c</code> to change it</li></ul></li> <li><code>u</code> to undo, <code>U</code>恢复到该行的原始状态, <code>&lt;C-r&gt;</code> to redo</li> <li><code>y</code> to copy / “yank” (some other commands like <code>d</code> also copy), 还可以把 y 当作操作符来使用；例如 yw 可以用来复制一个单词</li> <li><code>p</code> to paste</li> <li><code>~</code> flips the case of a character</li> <li><code>gu</code>把选定范围全部小写, <code>gU</code>把选定范围全部小写</li></ul> <h4 id="search"><a href="#search" class="header-anchor">#</a> Search</h4> <ul><li><code>/</code> 加上一个字符串可以用以在当前文件中查找该字符串</li> <li><code>?</code>逆向查找字符串</li> <li><code>n</code>查找同上一次的字符串</li> <li><code>N</code>要向相反方向查找同上一次的字符串</li> <li><code>Ctrl-o</code>回您之前的位置</li> <li><code>Ctrl-i</code> 会跳转到较新的位置</li></ul> <h4 id="substitution"><a href="#substitution" class="header-anchor">#</a> Substitution</h4> <ul><li><code>:s/thee/the &lt;CR&gt;</code>只改变<strong>光标所在行</strong>的<strong>第一个</strong>匹配串</li> <li><code>:s/thee/the/g</code>替换<strong>全行</strong>的匹配串</li> <li><code>:#,#s/old/new/g</code>其中 <strong>#,#</strong> 代表的是替换操作的若干行中<strong>首尾两行的行号</strong></li> <li><code>:%s/old/new/g</code>替换整个<strong>文件</strong>中的<strong>每个</strong>匹配串</li> <li><code>:%s/old/new/gc</code>会找到整个文件中的每个匹配串，并且对每个匹配串<strong>提示</strong>是否进行替换。</li></ul> <h4 id="modifiers"><a href="#modifiers" class="header-anchor">#</a> Modifiers</h4> <p>You can use modifiers to change the meaning of a noun. Some modifiers are <code>i</code>, which means “inner” or “inside”, and <code>a</code>, which means “around”.</p> <ul><li><code>ci(</code> change the contents inside the current pair of parentheses</li> <li><code>ci[</code> change the contents inside the current pair of square brackets</li> <li><code>da'</code> delete a single-quoted string, including the surrounding single quotes</li></ul> <h3 id="extending-vim"><a href="#extending-vim" class="header-anchor">#</a> Extending Vim</h3> <p>Contrary to outdated advice that you might find on the internet, you do <em>not</em> need to use a plugin manager for Vim (since Vim 8.0). Instead, you can use the built-in package management system. Simply create the directory <code>~/.vim/pack/vendor/start/</code>, and put plugins in there (e.g. via <code>git clone</code>).</p> <h3 id="advanced-vim"><a href="#advanced-vim" class="header-anchor">#</a> Advanced Vim</h3> <h4 id="search-and-replace"><a href="#search-and-replace" class="header-anchor">#</a> Search and replace</h4> <p><code>:s</code> (substitute) command (<a href="http://vim.wikia.com/wiki/Search_and_replace" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p> <ul><li><p><code>%s/foo/bar/g</code></p> <ul><li>replace foo with bar globally in file</li></ul></li> <li><p><code>%s/\[.*\](\(.*\))/\1/g</code></p> <ul><li>replace named Markdown links with plain URLs</li></ul></li></ul> <h3 id="macros"><a href="#macros" class="header-anchor">#</a> Macros</h3> <h2 id="lec4-data-wrangling"><a href="#lec4-data-wrangling" class="header-anchor">#</a> Lec4.Data Wrangling</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> myserver journalctl <span class="token operator">|</span> <span class="token function">grep</span> sshd
</code></pre></div><p>Notice that we’re using a pipe to stream a <em>remote</em> file through <code>grep</code> on our local computer!</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> myserver <span class="token string">'journalctl | grep sshd | grep &quot;Disconnected from&quot;'</span> <span class="token operator">|</span> <span class="token function">less</span>
</code></pre></div><p>Why the additional quoting? Well, our logs may be quite large, and it’s wasteful to stream it all to our computer and then do the filtering. Instead, we can do the filtering on the remote server, and then massage the data locally.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> myserver journalctl
 <span class="token operator">|</span> <span class="token function">grep</span> sshd
 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;Disconnected from&quot;</span>
 <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/.*Disconnected from //'</span>
</code></pre></div><p>The <code>s</code> command is written on the form: <code>s/REGEX/SUBSTITUTION/</code>, where <code>REGEX</code> is the regular expression you want to search for, and <code>SUBSTITUTION</code> is the text you want to substitute matching text with.</p> <h4 id="regular-expressions"><a href="#regular-expressions" class="header-anchor">#</a> Regular expressions</h4> <ul><li><code>.</code> means “any single character” except newline</li> <li><code>*</code> zero or more of the preceding match</li> <li><code>+</code> one or more of the preceding match</li> <li><code>[abc]</code> any one character of <code>a</code>, <code>b</code>, and <code>c</code></li> <li><code>(RX1|RX2)</code> either something that matches <code>RX1</code> or <code>RX2</code></li> <li><code>^</code> the start of the line</li> <li><code>$</code> the end of the line</li></ul> <p>todo: sed awk find sort grep</p> <h2 id="lec5-command-line-environment"><a href="#lec5-command-line-environment" class="header-anchor">#</a> Lec5.Command-line Environment</h2> <h3 id="job-control"><a href="#job-control" class="header-anchor">#</a> Job Control</h3> <h4 id="killing-a-process"><a href="#killing-a-process" class="header-anchor">#</a> Killing a process</h4> <p>Your shell is using a UNIX communication mechanism called a <em>signal</em> to communicate information to the process.</p> <p>In our case, when typing <code>Ctrl-C</code> this prompts the shell to deliver a <code>SIGINT</code> signal to the process.</p> <p>Here’s a minimal example of a Python program that captures <code>SIGINT</code> and ignores it, no longer stopping. To kill this program we can now use the <code>SIGQUIT</code> signal instead, by typing <code>Ctrl-\</code>.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token keyword">import</span> signal<span class="token punctuation">,</span> time

<span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>signum<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nI got a SIGINT, but I am not stopping&quot;</span><span class="token punctuation">)</span>

signal<span class="token punctuation">.</span>signal<span class="token punctuation">(</span>signal<span class="token punctuation">.</span>SIGINT<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\r{}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    i <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre></div><p>While <code>SIGINT</code> and <code>SIGQUIT</code> are both usually associated with terminal related requests, a more generic signal for asking a process to exit gracefully is the <code>SIGTERM</code> signal. To send this signal we can use the <a href="https://www.man7.org/linux/man-pages/man1/kill.1.html" target="_blank" rel="noopener noreferrer"><code>kill</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> command, with the syntax <code>kill -TERM &lt;PID&gt;</code>.</p> <h4 id="pausing-and-backgrounding-processes"><a href="#pausing-and-backgrounding-processes" class="header-anchor">#</a> Pausing and backgrounding processes</h4> <p><code>SIGSTOP</code> pauses a process. In the terminal, typing <code>Ctrl-Z</code> will prompt the shell to send a <code>SIGTSTP</code> signal, short for Terminal Stop (i.e. the terminal’s version of <code>SIGSTOP</code>).</p> <p>We can then continue the paused job in the foreground or in the background using <a href="https://www.man7.org/linux/man-pages/man1/fg.1p.html" target="_blank" rel="noopener noreferrer"><code>fg</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="http://man7.org/linux/man-pages/man1/bg.1p.html" target="_blank" rel="noopener noreferrer"><code>bg</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, respectively.</p> <p>The <a href="https://www.man7.org/linux/man-pages/man1/jobs.1p.html" target="_blank" rel="noopener noreferrer"><code>jobs</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> command lists the unfinished jobs associated with the current terminal session.</p> <p><a href="https://www.cnblogs.com/xiaoleiel/p/8349675.html" target="_blank" rel="noopener noreferrer">LINUX任务(jobs)详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>One more thing to know is that the <code>&amp;</code> suffix in a command will run the command in the background, giving you the prompt back, although it will still use the shell’s STDOUT which can be annoying (use shell redirections in that case).</p> <p>To background an already running program you can do <code>Ctrl-Z</code> followed by <code>bg</code>. Note that backgrounded processes are <strong>still children processes of your terminal</strong> and <strong>will die if you close the terminal</strong> (this will send yet another signal, <code>SIGHUP</code>). To prevent that from happening you can run the program with <a href="https://www.man7.org/linux/man-pages/man1/nohup.1.html" target="_blank" rel="noopener noreferrer"><code>nohup</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (a <strong>wrapper to ignore</strong> <code>SIGHUP</code>), or use <code>disown</code> if the process has already been started.</p> <p><a href="https://blog.csdn.net/zhaominpro/article/details/82630528" target="_blank" rel="noopener noreferrer">Linux shell中2&gt;&amp;1的含义解释 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="aliases"><a href="#aliases" class="header-anchor">#</a> Aliases</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">alias_name</span><span class="token operator">=</span><span class="token string">&quot;command_to_alias arg1 arg2&quot;</span>
</code></pre></div><p>Note that there is no space around the equal sign <code>=</code>, because <a href="https://www.man7.org/linux/man-pages/man1/alias.1p.html" target="_blank" rel="noopener noreferrer"><code>alias</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is <strong>a shell command that takes a single argument</strong>.</p> <h3 id="remote-machines"><a href="#remote-machines" class="header-anchor">#</a> Remote Machines</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Mooc/" class="router-link-active">
        /Mooc/
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6cd2a5de.js" defer></script><script src="/assets/js/2.dafc154f.js" defer></script><script src="/assets/js/6.6d478153.js" defer></script>
  </body>
</html>
